//Copyright 2012, etc.

/**
 * almond 0.1.4 Copyright (c) 2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

(function(e,t){typeof define=="function"&&define.amd?define(["jquery","underscore"],t):e.principium=t(e.$,e._)})(this,function(e,t){var n,r,i;return function(e){function c(e,t){var n,r,i,s,o,u,f,l,c,h,p=t&&t.split("/"),d=a.map,v=d&&d["*"]||{};if(e&&e.charAt(0)==="."&&t){p=p.slice(0,p.length-1),e=p.concat(e.split("/"));for(l=0;l<e.length;l+=1){h=e[l];if(h===".")e.splice(l,1),l-=1;else if(h===".."){if(l===1&&(e[2]===".."||e[0]===".."))break;l>0&&(e.splice(l-1,2),l-=2)}}e=e.join("/")}if((p||v)&&d){n=e.split("/");for(l=n.length;l>0;l-=1){r=n.slice(0,l).join("/");if(p)for(c=p.length;c>0;c-=1){i=d[p.slice(0,c).join("/")];if(i){i=i[r];if(i){s=i,o=l;break}}}if(s)break;!u&&v&&v[r]&&(u=v[r],f=l)}!s&&u&&(s=u,o=f),s&&(n.splice(0,o,s),e=n.join("/"))}return e}function h(t,n){return function(){return s.apply(e,l.call(arguments,0).concat([t,n]))}}function p(e){return function(t){return c(t,e)}}function d(e){return function(t){o[e]=t}}function v(n){if(u.hasOwnProperty(n)){var r=u[n];delete u[n],f[n]=!0,t.apply(e,r)}if(!o.hasOwnProperty(n))throw new Error("No "+n);return o[n]}function m(e,t){var n,r,i=e.indexOf("!");return i!==-1?(n=c(e.slice(0,i),t),e=e.slice(i+1),r=v(n),r&&r.normalize?e=r.normalize(e,p(t)):e=c(e,t)):e=c(e,t),{f:n?n+"!"+e:e,n:e,p:r}}function g(e){return function(){return a&&a.config&&a.config[e]||{}}}var t,s,o={},u={},a={},f={},l=[].slice;t=function(t,n,r,i){var s,a,l,c,p,y=[],b;i=i||t;if(typeof r=="function"){n=!n.length&&r.length?["require","exports","module"]:n;for(p=0;p<n.length;p+=1){c=m(n[p],i),a=c.f;if(a==="require")y[p]=h(t);else if(a==="exports")y[p]=o[t]={},b=!0;else if(a==="module")s=y[p]={id:t,uri:"",exports:o[t],config:g(t)};else if(o.hasOwnProperty(a)||u.hasOwnProperty(a))y[p]=v(a);else if(c.p)c.p.load(c.n,h(i,!0),d(a),{}),y[p]=o[a];else if(!f[a])throw new Error(t+" missing "+a)}l=r.apply(o[t],y);if(t)if(s&&s.exports!==e&&s.exports!==o[t])o[t]=s.exports;else if(l!==e||!b)o[t]=l}else t&&(o[t]=r)},n=r=s=function(n,r,i,o,u){return typeof n=="string"?v(m(n,r).f):(n.splice||(a=n,r.splice?(n=r,r=i,i=null):n=e),r=r||function(){},typeof i=="function"&&(i=o,o=u),o?t(e,n,r,i):setTimeout(function(){t(e,n,r,i)},15),s)},s.config=function(e){return a=e,s},i=function(e,t,n){t.splice||(n=t,t=[]),u[e]=[e,t,n]},i.amd={jQuery:!0}}(),i("almond",function(){}),i("principium/convert",["underscore"],function(e){function t(t){return e.escape(t)}return t}),i("principium",["require","jquery","principium/convert"],function(e){var t=e("jquery"),n=e("principium/convert");return{version:"0.0.1, jQuery version is: "+t.fn.jquery,convert:n}}),i("jquery",function(){return e}),i("underscore",function(){return t}),r("principium")})